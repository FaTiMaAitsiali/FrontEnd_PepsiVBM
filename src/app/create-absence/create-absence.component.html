
<form name="form" [formGroup]="createAbsForm">
  <h1 mat-dialog-title style="width:100%;text-align: center;font-style:bold;text-decoration: underline;">Créer une absence</h1>     
  <div mat-dialog-content>
    <mat-form-field appearance="outline" style="width:100%;">
      <mat-label>Type d'absence</mat-label>
        <mat-select formControlName="typeAbs" placeholder="choisir un type">
            <mat-option name="2" value="Sick_Leave">Sick Leave</mat-option>
            <mat-option name="3" value="Maladie">Maladie</mat-option>
            <mat-option name="4" value="Conge_Annuel">Congé Annuel</mat-option>
            <mat-option name="5" value="Maternite">Maternité</mat-option>
            <mat-option name="6" value="Mariage">Mariage</mat-option>
            <mat-option name="7" value="Deces">Décès</mat-option>
            <mat-option name="8" value="Circoncision">Circoncision</mat-option>
            <mat-option name="9" value="Naissance">Naissance</mat-option>
            <mat-option name="10" value="Allaitement">Allaitement</mat-option>
            <mat-option name="11" value="Formation">Formation</mat-option>
            <mat-option name="12" value="Absence_RP">Absence RP</mat-option>
            <mat-option name="13" value="Accident_de_travail">Accident de travail</mat-option>
            <mat-option name="14" value="Recuperation_Heures_Supp">Récupération Heures Supp</mat-option>
            <mat-option name="15" value="Autorisation_de_sortie">Autorisation de sortie</mat-option>
            <mat-option name="16" value="Mission">Mission</mat-option>
            <mat-option name="17" value="Mise_a_pied">Mise à pied</mat-option>
            <mat-option name="18" value="OMRA">OMRA</mat-option>
            <mat-option name="19" value="HAJ">HAJ</mat-option>
            <mat-option name="20" value="Arret_Production">Arrêt Production</mat-option>
            <mat-option name="21" value="Absence_Preavis">Absence Préavis</mat-option>
            <mat-option name="22" value="Operation_Chirurgicale">Opération Chirurgicale</mat-option>
            <mat-option name="23" value="Retard_Transport">Retard Transport</mat-option>          
        </mat-select>
    </mat-form-field>
    <mat-form-field appearance="outline"  style="width:30%">
      <mat-label>ID </mat-label>
      <input formControlName="id" matInput>
    </mat-form-field><br>
    <mat-form-field appearance="outline" style="width:50%;margin-right:10px;">
      <mat-label>Date de premier jour d'absence</mat-label>
      <input formControlName="datePremierJ" matInput [matDatepicker]="picker1" (dateChange)="calculerNbJrs()">
      <mat-hint>MM/DD/YYYY</mat-hint>
      <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
      <mat-datepicker #picker1></mat-datepicker>
    </mat-form-field>
    <mat-form-field appearance="outline"  style="width:30%">
      <mat-select formControlName="MatinorApresMidiPJ" placeholder="Matin ou Après-Midi" (selectionChange)="calculerNbJrs()">
         <mat-option value="M">Matin</mat-option>
         <mat-option value="AM">Après-Midi</mat-option>
      </mat-select>
    </mat-form-field>
    <br>
    <mat-form-field appearance="outline" style="width:50%;margin-right:10px;">
      <mat-label>Date de dernier jour d'absence</mat-label>
      <input formControlName="dateDernierJ" matInput [matDatepicker]="picker2" (dateChange)="calculerNbJrs()">
      <mat-hint>MM/DD/YYYY</mat-hint>
      <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
      <mat-datepicker #picker2></mat-datepicker>
    </mat-form-field>
    <mat-form-field appearance="outline"  style="width:30%">
      <mat-select formControlName="MatinorApresMidiDJ" placeholder="Matin ou Après-Midi" (selectionChange)="calculerNbJrs()">
         <mat-option value="M">Matin</mat-option>
         <mat-option value="AM">Après-Midi</mat-option>
      </mat-select>
    </mat-form-field><br>
    <mat-form-field appearance="outline" style="width:50%;margin-right:10px;">
      <mat-label>Date de Retour au travail</mat-label>
      <input formControlName="dateRetour" matInput [matDatepicker]="picker3" readonly (selectionChange)="calculerNbJrs()">
      <mat-hint>MM/DD/YYYY</mat-hint>
      <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
      <mat-datepicker #picker3></mat-datepicker>
    </mat-form-field>
    <mat-form-field appearance="outline"  style="width:30%">
      <mat-label>Nombre de jours</mat-label>
      <input formControlName="nombreJ" matInput readonly>
    </mat-form-field><br>
    <section class="example-section">
      <mat-checkbox class="example-margin" [color]="task.color" style="margin-top:20px;margin-left:10px">Absence récurrente</mat-checkbox>
    </section><br>
    <mat-form-field appearance="outline" style="width:100%">
      <mat-label>Commentaire</mat-label>
      <textarea formControlName="commentaire" matInput></textarea>
    </mat-form-field>
    <div>
      <label>Documentation</label>
      <!-- <div style="margin-right:200px;">
        <img src="assets/file.svg" width="100px" height="100px" style="margin-left:250px;" />
      </div> -->
      <div style="margin-left:150px;width:400px;">
        <label class="form-label"></label>
        <input hidden #fileUpload class="form-control"  type="file" formControlName="file" (change)="envoiFichier($event)"/>
        <button mat-raised-button color="primary" (click)="fileUpload.click()">
          <mat-icon>attach_file</mat-icon>
          Primary
        </button>  
      </div>
  </div>
  </div>
  <div mat-dialog-action [align]="'end'" style="margin-top:30px;">
    <button type="button" mat-raised-button style="margin-right:5px;background-color:#0000ff;border:0px;color: white;" (click)="CreerAbsence()">{{actionBtn}}</button>
     <button type="reset" mat-raised-button  mat-dialog-close style="color:black;background-color:#dcdcdc;border:Opx;border-color:gainsboro;">Annuler</button>
  </div>       
</form>

